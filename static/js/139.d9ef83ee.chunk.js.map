{"version":3,"file":"static/js/139.d9ef83ee.chunk.js","mappings":"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","sources":["webpack://pizza/./src/components/FullPizza/FullPizza.module.scss?52a6","components/FullPizza/index.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"pizza\":\"FullPizza_pizza__CIxXb\",\"details\":\"FullPizza_details__y1U2A\",\"title\":\"FullPizza_title__ftU8U\",\"image\":\"FullPizza_image__koy93\",\"description\":\"FullPizza_description__5zSpF\"};","import axios from \"axios\";\r\nimport React from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport styles from \"./FullPizza.module.scss\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { addItem } from \"../../redux/slices/cartSlice\";\r\nimport getPizzaAmount from \"../../utils/getPizzaAmount\";\r\nimport { pizzaInfo } from \"../../@types/componentsTypes\";\r\n\r\ntype cartPizza = {\r\n  id: number;\r\n  title: string;\r\n  price: number;\r\n  imageUrl: string;\r\n  type: string;\r\n  size: number;\r\n}\r\n\r\nconst FullPizza: React.FC = () => {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const { id } = useParams();\r\n  const typeNames = [\"Thin\", \"Traditional\"];\r\n  const [pizza, setPizza] = React.useState<pizzaInfo>();\r\n  const [activeType, setActiveType] = React.useState(0);\r\n  const [activeSize, setActiveSize] = React.useState(0);\r\n\r\n  const pizzaAmount = getPizzaAmount(Number(id));\r\n  //console.log(pizzaAmount);\r\n  const [counter, setCounter] = React.useState(pizzaAmount);\r\n\r\n  React.useEffect(() => {\r\n    axios\r\n      .get(`${process.env.REACT_APP_SERVER_URL}/${id}`)\r\n      .then((res) => {\r\n        console.log(res);\r\n        setPizza(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        alert(err);\r\n        navigate(\"/\");\r\n      });\r\n  }, []);\r\n  console.log(pizza);\r\n\r\n  if (!pizza) {\r\n    return <p>Data is loading</p>;\r\n  }\r\n\r\n  const addPizza = () => {\r\n    const item: cartPizza = {\r\n      id: pizza.id,\r\n      title: pizza.title,\r\n      price: pizza.price,\r\n      imageUrl: pizza.imageUrl,\r\n      type: typeNames[activeType],\r\n      size: pizza.sizes[activeSize],\r\n    };\r\n    dispatch(addItem(item));\r\n    setCounter((prev) => ++prev);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.pizza}>\r\n      <img className={styles.image} src={pizza.imageUrl} alt=\"Pizza\" />\r\n      <div className={styles.details}>\r\n        <h4 className={styles.title}>{pizza.title}</h4>\r\n        <p className={styles.description}>{pizza.description}</p>\r\n        <div className=\"pizza-block__selector\">\r\n          <ul>\r\n            {pizza.types?.map((type, index) => {\r\n              return (\r\n                <li\r\n                  key={type}\r\n                  onClick={() => setActiveType(index)}\r\n                  className={index === activeType ? \"active\" : \"\"}\r\n                >\r\n                  {typeNames[type]}\r\n                </li>\r\n              );\r\n            })}\r\n          </ul>\r\n          <ul>\r\n            {pizza.sizes?.map((size, index) => {\r\n              return (\r\n                <li\r\n                  key={size}\r\n                  onClick={() => setActiveSize(index)}\r\n                  className={index === activeSize ? \"active\" : \"\"}\r\n                >\r\n                  {size} cm.\r\n                </li>\r\n              );\r\n            })}\r\n          </ul>\r\n          <div className=\"pizza-block__bottom\">\r\n            <div className=\"pizza-block__price\">from {pizza.price}â‚´</div>\r\n            <div\r\n              onClick={addPizza}\r\n              className=\"button button--outline button--add\"\r\n            >\r\n              <svg\r\n                width=\"12\"\r\n                height=\"12\"\r\n                viewBox=\"0 0 12 12\"\r\n                fill=\"none\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n              >\r\n                <path\r\n                  d=\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\"\r\n                  fill=\"white\"\r\n                />\r\n              </svg>\r\n              <span>Add to cart</span>\r\n              <i>{counter}</i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FullPizza"],"names":["_pizza$types","_pizza$sizes","dispatch","useDispatch","navigate","useNavigate","id","useParams","typeNames","_React$useState","React","_React$useState2","_slicedToArray","pizza","setPizza","_React$useState3","_React$useState4","activeType","setActiveType","_React$useState5","_React$useState6","activeSize","setActiveSize","pizzaAmount","getPizzaAmount","Number","_React$useState7","_React$useState8","counter","setCounter","axios","concat","process","then","res","console","log","data","catch","err","alert","_jsx","children","_jsxs","className","styles","src","imageUrl","alt","title","description","types","map","type","index","onClick","sizes","size","price","item","addItem","prev","width","height","viewBox","fill","xmlns","d"],"sourceRoot":""}